import{_ as A,r as b,C as B,h as M,c as j,o as q,b as e,w as l,d as n,f as m,t as c,g as _,G as L}from"./index-DU3ipqWQ.js";const R={class:"transaction-list"},E={class:"amount"},F={__name:"TransactionList",setup(G){const v=B(),o=b({userId:v.query.userId||"",transactionNo:"",transactionType:null,status:null}),f=b([]),p=b({page:1,size:10,total:0}),V={1:"充值",2:"消费",3:"退款",4:"提现",5:"冻结",6:"解冻"},h={0:"失败",1:"成功",2:"处理中"},I=r=>V[r]||"未知",N=r=>({1:"success",2:"danger",3:"warning",4:"info",5:"danger",6:"success"})[r]||"",z=r=>h[r]||"未知",C=r=>({0:"danger",1:"success",2:"warning"})[r]||"",d=()=>{console.log("搜索条件:",o.value),f.value=[],p.value.total=0},x=()=>{o.value={userId:v.query.userId||"",transactionNo:"",transactionType:null,status:null},d()};return M(()=>{d()}),(r,t)=>{const g=n("el-input"),i=n("el-form-item"),s=n("el-option"),y=n("el-select"),w=n("el-button"),S=n("el-form"),u=n("el-table-column"),T=n("el-tag"),U=n("el-table"),k=n("el-pagination"),D=n("el-card");return q(),j("div",R,[e(D,null,{header:l(()=>[...t[6]||(t[6]=[_("div",{class:"card-header"},[_("span",null,"钱包流水")],-1)])]),default:l(()=>[e(S,{inline:!0,model:o.value,class:"search-form"},{default:l(()=>[e(i,{label:"用户ID"},{default:l(()=>[e(g,{modelValue:o.value.userId,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.userId=a),placeholder:"请输入用户ID",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"流水号"},{default:l(()=>[e(g,{modelValue:o.value.transactionNo,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.transactionNo=a),placeholder:"请输入流水号",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"交易类型"},{default:l(()=>[e(y,{modelValue:o.value.transactionType,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.transactionType=a),placeholder:"请选择类型",clearable:""},{default:l(()=>[e(s,{label:"充值",value:1}),e(s,{label:"消费",value:2}),e(s,{label:"退款",value:3}),e(s,{label:"提现",value:4}),e(s,{label:"冻结",value:5}),e(s,{label:"解冻",value:6})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"状态"},{default:l(()=>[e(y,{modelValue:o.value.status,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.status=a),placeholder:"请选择状态",clearable:""},{default:l(()=>[e(s,{label:"成功",value:1}),e(s,{label:"失败",value:0}),e(s,{label:"处理中",value:2})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:l(()=>[e(w,{type:"primary",onClick:d},{default:l(()=>[...t[7]||(t[7]=[m("查询",-1)])]),_:1}),e(w,{onClick:x},{default:l(()=>[...t[8]||(t[8]=[m("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),e(U,{data:f.value,border:"",style:{width:"100%"}},{default:l(()=>[e(u,{prop:"transactionNo",label:"流水号",width:"180"}),e(u,{prop:"userId",label:"用户ID",width:"100"}),e(u,{prop:"transactionType",label:"交易类型",width:"100"},{default:l(a=>[e(T,{type:N(a.row.transactionType)},{default:l(()=>[m(c(I(a.row.transactionType)),1)]),_:2},1032,["type"])]),_:1}),e(u,{prop:"amount",label:"变动金额",width:"120"},{default:l(a=>[_("span",{class:L(a.row.amount>=0?"amount-positive":"amount-negative")},c(a.row.amount>=0?"+":"")+"¥"+c(a.row.amount),3)]),_:1}),e(u,{prop:"balanceAfter",label:"变动后余额",width:"120"},{default:l(a=>[_("span",E,"¥"+c(a.row.balanceAfter),1)]),_:1}),e(u,{prop:"orderNo",label:"订单号",width:"180"}),e(u,{prop:"remark",label:"备注","min-width":"150","show-overflow-tooltip":""}),e(u,{prop:"status",label:"状态",width:"80"},{default:l(a=>[e(T,{type:C(a.row.status)},{default:l(()=>[m(c(z(a.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(u,{prop:"createdAt",label:"创建时间",width:"160"})]),_:1},8,["data"]),e(k,{"current-page":p.value.page,"onUpdate:currentPage":t[4]||(t[4]=a=>p.value.page=a),"page-size":p.value.size,"onUpdate:pageSize":t[5]||(t[5]=a=>p.value.size=a),total:p.value.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:d,onCurrentChange:d,style:{"margin-top":"20px","justify-content":"flex-end"}},null,8,["current-page","page-size","total"])]),_:1})])}}},H=A(F,[["__scopeId","data-v-c116536c"]]);export{H as default};
