<view class="container">
  <!-- 景区列表 -->
  <scroll-view 
    class="scenic-list" 
    scroll-y 
    bindscrolltolower="onReachBottom"
    style="height: {{scrollHeight}}px"
  >
    <!-- 景区卡片列表 -->
    <view 
      class="scenic-card" 
      wx:for="{{scenicList}}" 
      wx:key="id"
      data-id="{{item.id}}"
    >
      <!-- 图片部分 -->
      <view class="scenic-image-container">
        <image 
          class="scenic-image" 
          src="{{item.image}}" 
          mode="aspectFill"
        ></image>

        <!-- 热门标签 -->
        <view class="hot-tag" wx:if="{{item.isHot}}">
          <text>热门</text>
        </view>
      </view>
      
      <!-- 内容部分 -->
      <view class="scenic-content">
        <!-- 标题区域 -->
        <view class="title-row">
          <text class="scenic-name">{{item.name}}</text>
          <view class="level-tag {{item.levelClass}}">
            <text>{{item.level}}</text>
          </view>
        </view>
        
        <!-- 描述 -->
        <text class="scenic-description">{{item.description}}</text>
        
        <!-- 标签 -->
        <view class="tag-container" wx:if="{{item.tags && item.tags.length > 0}}">
          <view 
            class="tag-item" 
            wx:for="{{item.tags}}" 
            wx:key="*this"
          >
            <text>{{item}}</text>
          </view>
        </view>
        
        <!-- 底部信息 -->
        <view class="bottom-info">
          <!-- 左边：评分和价格 -->
          <view class="info-left">
            <!-- 评分 -->
            <view class="rating-container">
              <text class="rating-score">{{item.rating}}</text>
              <view class="star-container">
                <!-- 根据评分动态显示星星 -->
                <block wx:if="{{item.rating >= 1}}">
                  <image class="star-icon" src="/images/icons/star_full.png"></image>
                </block>
                <block wx:if="{{item.rating >= 2}}">
                  <image class="star-icon" src="/images/icons/star_full.png"></image>
                </block>
                <block wx:if="{{item.rating >= 3}}">
                  <image class="star-icon" src="/images/icons/star_full.png"></image>
                </block>
                <block wx:if="{{item.rating >= 4}}">
                  <image class="star-icon" src="/images/icons/star_full.png"></image>
                </block>
                <block wx:if="{{item.rating >= 5}}">
                  <image class="star-icon" src="/images/icons/star_full.png"></image>
                </block>
                <!-- 半星判断 -->
                <block wx:if="{{item.rating % 1 >= 0.5 && item.rating % 1 < 1}}">
                  <image class="star-icon" src="/images/icons/star_half.png"></image>
                </block>
                <!-- 空星 -->
                <block wx:for="{{5 - Math.ceil(item.rating)}}" wx:key="index">
                  <image class="star-icon" src="/images/icons/star_empty.png"></image>
                </block>
              </view>
              <text class="rating-count" wx:if="{{item.reviewCount}}">({{item.reviewCount}})</text>
            </view>
            
            <!-- 价格 -->
            <view class="price-container">
              <text class="price-symbol">¥</text>
              <text class="price">{{item.price}}</text>
              <text class="price-unit">起</text>
            </view>
          </view>
          
          <!-- 右边：预订按钮 -->
          <view class="info-right">
            <button 
              class="book-btn"
              bindtap="onScenicTap"
              data-id="{{item.id}}"
            >
              <text>查看</text>
            </button>
          </view>
        </view>
      </view>
    </view>
    
    <!-- 加载更多 -->
    <view class="load-more" wx:if="{{!loading && hasMore && scenicList.length > 0}}">
      <view class="load-more-container">
        <image class="landscape-icon" src="/images/icons/landscape.png"></image>
        <image class="search-icon" src="/images/icons/search.png"></image>
      </view>
      <text class="load-more-text">加载更多...</text>
    </view>
    
    <!-- 没有更多数据 -->
    <view class="no-more" wx:if="{{!hasMore && !loading && scenicList.length > 0}}">
      <text>没有更多景区了</text>
    </view>
    
    <!-- 空状态 -->
    <view class="empty-state" wx:if="{{scenicList.length === 0 && !loading}}">
      <image class="empty-icon" src="/images/icons/landscape.png"></image>
      <text class="empty-text">暂无景区信息</text>
    </view>
  </scroll-view>
</view>