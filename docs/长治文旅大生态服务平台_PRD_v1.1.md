# 长治文旅大生态服务平台产品需求说明书

## 1. 项目概述

### 1.1 项目背景
近年来，文旅产业数字化转型加速推进，各地方文旅部门需要探寻一条解决文旅IP打造、文旅流量获取和变现以及文旅收入大幅增长和数据入统的解决方案。

### 1.2 项目范围
本项目研发范围包括以下几个终端的功能开发、系统集成、数据对接及测试上线，具体如下：

- **用户端小程序**：涵盖首页、票务模块、餐饮模块、文创模块、活动模块、供需模块、个人中心及通用功能。
- **商户端小程序**：涵盖登录注册、商品管理、活动管理、核销管理、商户管理功能。
- **PC管理端**：支持主流浏览器（Chrome、Firefox、Edge），涵盖商户管理、设备管理、用户管理、商品管理、订单管理、活动管理、财务管理、系统管理、供需管理、接口管理功能。
- **系统集成**：对接支付渠道、人脸识别、闸机设备接口、手持终端、短信服务等第三方服务。

---

## 2. 功能概述和设计

### 2.1 功能导图
（功能导图可在此处补充）

### 2.2 功能列表

| 终端 | 模块 | 功能 | 编号 | 分期 | 描述 |
|------|------|------|------|------|------|
| 用户端 | 首页 | 轮播图 |  |  | 支持跳转景区/活动/商品详情 |
| 用户端 | 首页 | 金刚区 |  |  | 包含景区、餐饮、生鲜、文创、活动、会员中心入口 |
| 用户端 | 首页 | 个性化推荐 |  |  | 基于定位/历史订单推荐景区/商品/活动 |
| 用户端 | 首页 | 最热活动 |  |  | 展示活动热度、剩余名额、参与方式 |
| 用户端 | 首页 | 景区票务 |  |  | 展示单票、联票、套票，支持筛选价格/区域/主题 |
| 用户端 | 首页 | 公告通知 |  |  | 展示平台活动、景区限流、系统更新等重要信息 |
| 用户端 | 票务模块 | 票务列表 | 1 |  | 支持多维度筛选：景区类型、日期、价格、优惠标签 |
| 用户端 | 票务模块 | 票务详情 | 1 |  | 包含景区介绍、开放时间、退改规则、包含项目、用户评价 |
| 用户端 | 票务模块 | 票种管理 | 1 |  | 涵盖单票、联票、套票，套票明确包含商品/服务清单及价值 |
| 用户端 | 票务模块 | 预约购买 |  |  | 支持选择日期/时段、填写游客信息、优惠券抵扣、支付方式选择 |
| 用户端 | 票务模块 | 购票凭证 |  |  | 生成电子票码/二维码，支持转发给同行人 |
| 用户端 | 票务模块 | 退改签管理 |  |  | 按规则发送退票/改签申请，查看处理进度及退款金额 |
| 用户端 | 票务模块 | 购票积分 |  |  | 实时到账提示+动画特效，显示积分获取明细 |
| 用户端 | 活动模块 | 活动清单 |  |  | 分类展示打卡活动、积分活动、主题活动，支持筛选/搜索 |
| 用户端 | 活动模块 | 活动详情 |  |  | 包含活动规则、时间、地点、参与条件、奖励说明、参与记录 |
| 用户端 | 活动模块 | 打卡活动 |  |  | 展示打卡规则、打卡点导航、打卡进度，打卡成功后弹出奖励弹窗 |
| 用户端 | 活动模块 | 积分活动 |  |  | 支持积分兑换、积分任务（购票/消费/打卡/分享），包含积分规则说明 |
| 用户端 | 活动模块 | 活动报名 |  |  | 需预约的活动支持报名，显示报名状态及签约方式 |
| 用户端 | 活动模块 | 活动收藏 |  |  | 可收藏感兴趣的活动，接收活动开始提醒 |
| 用户端 | 消费模块 | 扫码消费 |  |  | 扫描商户二维码，展示商品列表/输入/消费金额，支持钱包/积分支付 |
| 用户端 | 消费模块 | 商户导航 |  |  | 基于定位推荐周边餐饮/零售/文创商户，显示距离/评分/优惠 |
| 用户端 | 消费模块 | 商品浏览 |  |  | 展示商户线上商品，支持加入收藏直接购买 |
| 用户端 | 消费模块 | 消费积分 |  |  | 线下消费后积分实时到账，显示积分比例及明细 |
| 用户端 | 个人中心 | 会员信息 |  |  | 展示头像、昵称、会员等级、等级权益说明、成长值进度 |
| 用户端 | 个人中心 | 订单管理 |  |  | 包含全部订单、票务订单、商品订单、活动订单、支持筛选/搜索/取消 |
| 用户端 | 个人中心 | 钱包管理 |  |  | 显示余额、支持充值（多种支付方式+充值优惠）、流水记录（筛选日期/类型）、支付密码设置 |
| 用户端 | 个人中心 | 积分管理 |  |  | 显示积分余额、积分流水（获取/消耗），包含积分兑换商城、等级权益 |
| 用户端 | 个人中心 | 收货地址 |  |  | 支持新增/编辑/删除地址，可设置默认地址（用于文创商品邮寄） |
| 用户端 | 个人中心 | 消息通知 |  |  | 包含订单状态、活动提醒、积分变动、系统公告 |
| 用户端 | 个人中心 | 评价反馈 |  |  | 可对景区/商品/活动进行评价，提交投诉建议 |
| 用户端 | 个人中心 | 安全设置 |  |  | 支持账号绑定、登录密码修改、支付密码修改、隐私权限管理 |
| 用户端 | 个人中心 | 供需管理 |  |  | 支持供需浏览、供需发布、供需报名、供需联系 |
| 用户端 | 通用功能 | 搜索功能 |  |  | 全局搜索景区/商品/活动/商户 |
| 用户端 | 通用功能 | 二维码 |  |  | 包含个人付款码、电子票码、活动签到码 |
| 用户端 | 通用功能 | 帮助中心 |  |  | 包含常见问题、联系客服、客服会话 |
| 商户端 | 登录注册 | 授权登录 |  |  | 通过手机号验证码+商户资质验证登录 |
| 商户端 | 登录注册 | 密码找回 |  |  | 通过手机号/邮箱找回登录密码 |
| 商户端 | 登录注册 | 入驻申请 |  |  | 新商户提交资质材料申请入驻 |
| 商户端 | 商品管理 | 商品列表 |  |  | 展示商品名称/价格/库存/状态、支持筛选/搜索 |
| 商户端 | 商品管理 | 商品编辑 |  |  | 新增/修改商品信息：名称、图片、价格、规格、库存、积分比例 |
| 商户端 | 商品管理 | 商品上下架 |  |  | 支持手动上下架、定时上下架 |
| 商户端 | 商品管理 | 库存管理 |  |  | 展示实时库存、支持库存预警设置、库存批量调整 |
| 商户端 | 商品管理 | 商品分类 |  |  | 支持自定义商品分类，便于管理和用户查找 |
| 商户端 | 商品管理 | 商品评价 |  |  | 查看用户对商品的评价，支持回复 |
| 商户端 | 活动管理 | 活动列表 |  |  | 展示活动名称/时间/状态/参与人数、支持筛选/搜索 |
| 商户端 | 活动管理 | 活动创建 |  |  | 自定义活动规则、时间、奖励、参与条件，提交平台审核 |
| 商户端 | 活动管理 | 活动编辑 |  |  | 修改活动信息，已开始活动限制部分字段修改 |
| 商户端 | 活动管理 | 活动详情 |  |  | 查看活动参与记录、打卡数据、奖励发放情况 |
| 商户端 | 活动管理 | 扫码验证 |  |  | 扫描用户活动签到打印卡，确认参与资格/打卡通过 |
| 商户端 | 核销管理 | 扫码核销 |  |  | 扫描用户电子票码/商品消费码，确认核销并同步状态 |
| 商户端 | 核销管理 | 核销记录 |  |  | 查看当日/历史核销记录，支持筛选/导出 |
| 商户端 | 核销管理 | 批量核销 |  |  | 支持导入核销的批量核销，适用于团体订单 |
| 商户端 | 核销管理 | 核销异常处理 |  |  | 提示核销失败原因，支持手动核实核销 |
| 商户端 | 商户管理 | 商户信息 |  |  | 查看/编辑商户基本信息、资质材料、联系方式 |
| 商户端 | 商户管理 | 员工管理 |  |  | 支持员工增加或重、员工权限分配、员工绑定/解绑账号 |
| 商户端 | 商户管理 | 经营统计 |  |  | 展示当日/累计销售总额、销售单数、客单价、热销商品排行、销售趋势图 |
| 商户端 | 商户管理 | 订单管理 |  |  | 包含订单列表、订单详情、订单状态跟踪、异常订单处理 |
| 商户端 | 商户管理 | 钱包管理 |  |  | 显示余额，支持提现申请、提现记录、流水管理（筛选日期/类型） |
| 商户端 | 商户管理 | 投诉处理 |  |  | 查看用户投诉，提交处理方案及结果 |
| 商户端 | 商户管理 | 常见问题 |  |  | 包含平台规则、操作指南、支付结算相关问题 |
| 商户端 | 商户管理 | 退出登录 |  |  | 退出当前商户账号 |
| PC端 | 商户管理 | 商户列表 |  |  | 快速筛选景区/餐饮/生鲜/文创等类型，展示商户状态/等级 |
| PC端 | 商户管理 | 入驻审核 |  |  | 查看商户提交的资质材料，审核通过/驳回并填写理由 |
| PC端 | 商户管理 | 商户运营 |  |  | 支持停用/启用商户账号、加入黑名单/解除黑名单，查看商户违规记录 |
| PC端 | 商户管理 | 商户信息管理 |  |  | 编辑商户基本信息、经营范围、合作类型（直营/联营/加盟） |
| PC端 | 商户管理 | 员工管理 |  |  | 查看商户员工列表、重置员工密码、调整员工权限 |
| PC端 | 设备管理 | 设备列表 |  |  | 支持设备增加或重、展示设备型号/编号/归属商户/状态 |
| PC端 | 设备管理 | 设备配置 |  |  | 支持设备归属和定位匹配、设备参数设置 |
| PC端 | 设备管理 | 运维管理 |  |  | 监控设备状态（在线/离线/故障），支持故障上报、维修工单管理、运维记录 |
| PC端 | 设备管理 | 设备统计 |  |  | 展示设备使用率、故障发生率、各区域设备分布 |
| PC端 | 用户管理 | 用户列表 |  |  | 展示用户ID/视频/手机号/会员等级/注册时间，支持筛选/搜索 |
| PC端 | 用户管理 | 用户详情 |  |  | 查看用户基本信息、订单记录、积分流水、消费习惯 |
| PC端 | 用户管理 | 用户行为分析 |  |  | 分析用户访问路径、热门功能访问频次、消费偏好 |
| PC端 | 用户管理 | 异常用户处理 |  |  | 支持冻结/解冻用户账号，查看用户投诉记录 |
| PC端 | 商品管理 | 分类管理 |  |  | 支持商品一级/二级分类辅助改善，设置分类排序 |
| PC端 | 商品管理 | 票种管理 |  |  | 管理单票/联票/套票，设置套票组合规则、价格核算 |
| PC端 | 商品管理 | 商品审核 |  |  | 审核商户上架商品，检查商品信息/图片/价格合规性 |
| PC端 | 商品管理 | 商品监控 |  |  | 查看商品销售数据、库存预警、下架违规商品 |
| PC端 | 商品管理 | 积分赋值 |  |  | 设置不同类型商品/商户的积分比例，支持批量调整 |
| PC端 | 商户商品管理 | 商品上下架审核 |  |  | 审核商户商品上架/下架申请 |
| PC端 | 商户商品管理 | 积分比例管理 |  |  | 按商户类型（直营/联营/加盟）设置积分赋值规则 |
| PC端 | 商户商品管理 | 供应链管理 |  |  | 设置商户供应链隶属关系，监控商品采购渠道 |
| PC端 | 商户商品管理 | 分账管理 |  |  | 按商户类型设置分账比例（直营100%、联营利润分配、加盟金额比例），支持分账规则编辑/生效/失效 |
| PC端 | 订单管理 | 订单列表 |  |  | 多维度筛选：订单类型/状态/时间/商户/用户，支持搜索订单号 |
| PC端 | 订单管理 | 订单详情 |  |  | 查看订单商品/服务信息、支付信息、核销状态、退款记录 |
| PC端 | 订单管理 | 异常订单处理 |  |  | 支持订单取消、退款审核、纠纷订单仲裁 |
| PC端 | 订单管理 | 订单统计 |  |  | 统计订单总量、销售额、核销率、退款率，按时间/商户/商品维度分析 |
| PC端 | 活动管理 | 活动列表 |  |  | 展示活动名称/发起商户/时间/状态/参与人数，支持筛选/搜索 |
| PC端 | 活动管理 | 活动审核 |  |  | 审核商户活动创建申请，检查活动规则/奖励合规性 |
| PC端 | 活动管理 | 规则管理 |  |  | 创建/编辑平台级活动规则模板，供商户复用 |
| PC端 | 活动管理 | 打卡管理 |  |  | 查看活动打卡数据、打卡点使用率，处理异常打卡 |
| PC端 | 活动管理 | 活动数据统计 |  |  | 统计活动参与人数、转化率、用户留存率、活动ROI分析 |
| PC端 | 财务管理 | 分账管理 |  |  | 查询分账记录，监控分账规则执行，处理分账异常 |
| PC端 | 财务管理 | 流水管理 |  |  | 展示平台总流水、商户流水、用户流水，支持筛选/导出/对账 |
| PC端 | 财务管理 | 结算管理 |  |  | 设置商户结算周期，生成/审核/支付结算单，查询结算记录 |
| PC端 | 财务管理 | 发票管理 |  |  | 审核商户发票申请，查看发票开具记录，处理发票作废 |
| PC端 | 财务管理 | 财务报表 |  |  | 提供营业报表、利润报表、分账报表，支持按日/周/月/年查看 |
| PC端 | 系统管理 | 权限管理 |  |  | 分配用户角色权限，细化功能模块操作权限 |
| PC端 | 系统管理 | 角色管理 |  |  | 支持角色增加或改写，预设管理员/运营员/务等角色模板 |
| PC端 | 系统管理 | 日志管理 |  |  | 查询/导出操作日志、登录日志、错误日志，支持按时间/用户筛选 |
| PC端 | 系统管理 | 数据字典管理 |  |  | 配置系统基础参数（如会员等级值、积分兑换比例基数） |
| PC端 | 系统管理 | 备份恢复 |  |  | 支持数据定时备份、手动备份、备份数据恢复 |
| PC端 | 供需管理 | 供需发布 |  |  | 审核用户/商户发布的供需信息，确保信息合规 |
| PC端 | 供需管理 | 供需管理 |  |  | 展示供需信息列表、分类展示、更新状态 |
| PC端 | 供需管理 | 报名记录 |  |  | 查看供需报名记录，支持导出和联系对接 |
| PC端 | 接口管理 | 支付接口 |  |  | 对接微信/支付宝/银联等支付渠道，监控接口状态 |
| PC端 | 接口管理 | 设备接口 |  |  | 打通机机/手持验票设备接口，监控数据同步 |
| PC端 | 接口管理 | 人脸接口 |  |  | 管理人脸库，对接人脸识别接口，支持刷脸入园/消费 |
| PC端 | 接口管理 | 接口文档 |  |  | 提供接口调用说明、参数规范、错误码解释 |

---

## 3. 系统架构

### 3.1 架构分层设计

#### 3.1.1 前端层
- 多终端统一适配，基于“组件化+模块化”设计，实现业务逻辑复用  
- 核心能力：页面渲染、状态管理、接口请求、本地缓存、终端适配  

#### 3.1.2 网关层
- 统一入口：所有终端请求通过API网关接入，实现路由转发、负载均衡  
- 核心能力：权限校验、流量控制、接口限流、请求加密、日志采集  

#### 3.1.3 应用服务层（微服务拆分）
按业务域拆分微服务，服务间通过RESTful API+消息队列通信：

| 服务名称 | 核心职责 | 依赖服务 |
|----------|----------|----------|
| 用户中心服务 | 账号管理、会员等级、权限控制 | 消息通知服务、数据存储服务 |
| 票务服务 | 票种管理、预订下单、退改签、电子票生成 | 订单服务、支付服务、积分服务 |
| 活动服务 | 活动创建、打卡验证、奖励发放、规则执行 | 用户中心服务、积分服务、消息通知服务 |
| 消费服务 | 扫码支付、商户导航、商品购买、消费核销 | 支付服务、订单服务、商户服务 |
| 商户服务 | 商户入驻、商品管理、员工管理、经营统计 | 数据存储服务、文件存储服务 |
| 订单服务 | 订单创建、状态同步、异常处理、订单查询 | 数据存储服务、消息通知服务 |
| 支付服务 | 支付渠道对接、充值、提现、分账结算 | 财务服务、消息通知服务 |
| 积分服务 | 积分生成、积分消耗、等级权益、积分兑换 | 用户中心服务、商品服务 |
| 供需服务 | 供需发布、审核、报名、对接 | 数据存储服务、消息通知服务 |
| 设备服务 | 设备管理、状态监控、运维工单、数据同步 | 商户服务、数据存储服务 |
| 财务服务 | 流水记录、分账计算、发票管理、报表生成 | 订单服务、支付服务 |
| 消息通知服务 | 短信、APP推送、站内信、公告发布 | 第三方短信服务、推送服务 |
| 数据统计服务 | 经营数据、用户行为、活动效果、设备状态分析 | 所有业务服务、数据存储服务 |

#### 3.1.4 数据层
- 关系型数据库：存储结构化业务数据（订单、用户、商户、财务等）
- 缓存数据库：存储高频访问数据（会话、商品库存、热门活动等）
- 文件存储：存储图片、视频、文档等非结构化数据
- 消息队列：解耦服务间通信，处理异步任务（积分发放、消息推送等）

#### 3.1.5 基础设施层
- 云服务器、容器编排、负载均衡、CDN加速
- 监控告警、日志收集、链路追踪、安全防护

### 3.2 核心架构特性
- 高可用：服务集群部署、数据库主从复制、异地多活备份
- 高并发：接口限流、缓存穿透防护、异步处理、分库分表
- 可扩展：微服务独立部署、支持水平扩容、适配业务增长
- 易维护：服务边界清晰、接口标准化、日志可追溯

### 3.3 前端技术栈

| 终端类型 | 核心技术 | 辅助工具/框架 | 核心优势 |
|----------|----------|----------------|----------|
| 用户端小程序 | React Native | Redux（状态管理）、Axios（请求）、React Navigation（路由） | 跨端开发，适配原生体验 |
| 商户端小程序 | React Native + Vue3 | Vant UI（H5组件）、Pinia（状态管理） | 多终端统一体验，适配小程序场景 |
| PC管理端 | Vue3 + TypeScript | Element Plus（组件库）、ECharts（可视化）、Vue Router（路由） | 类型安全、组件丰富、开发效率高 |
| 通用能力 | 微信/支付宝 SDK、百度地图 SDK、人脸识别 SDK | 封装统一工具类，降低终端适配成本 |  |

### 3.4 后端技术栈

| 技术领域 | 选型方案 | 核心用途 |
|----------|----------|----------|
| 开发语言 | Java 17 | 微服务核心开发、生态完善、性能稳定 |
| 开发框架 | Spring Boot 3.x、Spring Cloud Alibaba | 微服务快速开发、服务注册发现、配置中心 |
| API网关 | Spring Cloud Gateway | 路由转发、权限校验、流量控制 |
| 服务注册/配置 | Nacos | 服务注册发现、配置动态更新 |
| 消息队列 | RabbitMQ | 异步任务处理（积分发放、消息推送）、服务解耦 |
| 关系型数据库 | MySQL 8.0（主从复制） | 存储结构化业务数据（订单、用户、财务） |
| 缓存数据库 | Redis 7.0（集群部署） | 高频数据缓存、会话存储、库存预扣减 |
| 分库报表 | Sharding-JDBC | 订单、流水等大表数据分片存储 |
| 搜索引擎 | Elasticsearch 8.x | 供需信息检索、商品/活动模糊搜索 |
| 文件存储 | 阿里云OSS | 图片（商品/活动海报）、视频（景区介绍）存储 |
| 接口文档 | Swagger/Knife4j | 接口标准化、自动生成文档、调试支持 |
| 链路追踪 | SkyWalking | 微服务调用链路监控、性能排查 |

### 3.5 第三方服务选型

| 服务类型 | 选型方案 | 核心用途 |
|----------|----------|----------|
| 支付渠道 | 微信支付、通联支付 | 用户充值、购票支付、商户提现 |
| 人脸识别 | 阿里云人脸识别/百度AI | 刷脸入园、刷脸消费、身份验证 |
| 地图服务 | 百度地图/高德地图SDK | 商户导航、打卡点定位、区域筛选 |
| 短信服务 | 阿里云短信/腾讯云短信 | 验证码发送、订单通知、活动提醒 |
| 推送服务 | 极光推送/个推 | APP消息推送、活动开始提醒 |
| 安全防护 | 阿里云WAF、短信验证码校验 | 防SQL注入、防XSS攻击、账号安全 |

---

## 4. 详细功能说明

### 4.1 用户端功能

#### 4.1.1 首页模块
首页作为用户进入平台的第一入口，需实现“资源展示+快速导航+个性化推荐”功能，具体如下：

- **轮播图**：展示3-5张重点景区、热门活动或优惠商品海报，点击可跳转至对应详情页；支持运营方在PC端后台上传、排序和下架轮播图。
- **金刚区**：设置“景区”“餐饮”“生鲜”“文创”4个核心入口，图标采用鲜明色彩设计，方便用户快速识别和点击。
- **最热活动**：展示当前参与人数最多的3-5个活动，包含活动名称、热度值、剩余名额、参与方式（免费/付费/积分兑换），点击可进入活动详情页。
- **景区票务**：每个景区卡片包含景区名称、级别、价格区间、核心景点图片及“立即预订”按钮；支持按价格、区域、主题进行筛选。
- **公告通知**：位于首页底部，展示平台活动、景区限流、系统更新等重要信息；
- **餐饮模块**：展示热门餐饮商户及特色菜品，包含商户名称、评分、人均消费、点击可进入商品详情页进行商品浏览和购买。
- **生鲜模块**：展示生鲜便利商户及商品，涵盖水果、零食、日用品等品类，支持按商品类型筛选，提供配送服务。
- **文创模块**：展示文创商户及商品，支持按商品类型筛选，提供到店自提或短距离配送服务。

#### 4.1.2 票务模块
票务模块是用户端核心功能之一，需实现“票务查询-详情查看-预约购买-凭证管理-退改签”全流程服务，具体如下：

- **景区二维码**：生成景区独立的二维码，微信扫描官方小程序码直接进入对应景区的购票页面。
- **票务列表**：列表展示景区名称、票种名称、价格、优惠信息、用户评分，支持按热度、价格、评分排序。
- **票务详情**：
  - **票务展示**：页面包含景区介绍（文字+图片+视频）、景区名称、景区级别、多少人购买，一句话描述景区，购票须知，简介，位置地图导航，开园时间，停止入园时间，闭园时间，当前开闭园状态，日期选择，可选票型，价格公示，入园须知，景区咨询电话等，景点详情，价格说明）、退改规则（明确退款比例、改签条件）、包含项目（联票/套票需列出所有包含的景区/服务）、用户评价（带图评价优先展示）、购票须知（限购数量、入园方式等）；底部固定“立即预订”按钮。
  - **支持单票、联票票型**：单票为单个景区门票；联票为多个景区组合门票（如A景区+B景区联票）；
  - **支持套票**：为“门票+商品”组合，例如“功夫熊猫299套餐”包含功夫熊猫书包1个、功夫熊猫笔套装1套及景区入场券1张，套票需明确各组成部分的价值及总优惠金额。
  - **余票**：系统预留分时段，限量预约这个功能。预约名额每日固定时间更新，可预约未来时间段。
  - **预约购买**：
    - 用户选择票种和游玩日期和时间端，填写游客信息（姓名、身份证号）、联系人信息（手机号）；
    - 通过微信授权自动填充姓名与手机号，减少重复输入。需校验游客身份证号
    - 已经录入过的游客自动记录，在选择游客时侯可以弹窗选择。可以不弹窗快速选择。
    - 选择票种与数量，根据区分成人票、学生票、老年，特殊人群等，需注意每单限购人数（如每手机限5人）
  - **游客购票资格状态显示**：
    - 是否符合年龄
    - 校验姓名和身份证实名信息 是否通缉人员
  - **核对和支付**：
    - 支持选择优惠券（如有）、支付方式（聚合支付、微信支付）；
    - 支付成功后跳转至“订单详情”页，并发送短信通知（含订单号、入园方式）。
    - 出票类型包含个人、团体（前端不展示 团体票有单独购买渠道，数据库需设计）
    - 勾选同意《用户协议》《隐私政策》，点击去支付，跳转支付页面。
  - **购票凭证**：支付成功后生成电子票码（二维码+数字码），支持截图保存；凭证页面显示票种名称、游玩日期、入园方式、核销状态。
  - **退改签管理**：
    - 用户可在订单详情页发起退改签申请。退票需根据退改规则计算退款金额
    - 改签支持修改游玩日期（需在票种有效期内）；超期提示已超过 无法改签。
    - 申请提交后，系统自动审核（符合规则的即时通过），退款金额在1-3个工作日内退回原支付账户；用户可在“订单详情”页查看处理进度。
    - 过期订单自动退款
    - 未核销订单随时退
  - **购票积分**：购票成功后，积分实时到账，页面弹出积分到账提示（含动画特效）；积分获取比例为购票金额的1%-5%（不同票种比例可在PC端设置），积分明细显示在“积分管理”页面。

#### 4.1.3 活动模块
活动模块旨在提升用户粘性和游玩趣味性，支持多种活动类型的创建和参与，具体如下：

- **活动清单**：按活动类型（打卡活动、积分活动、主题活动）分类展示，支持按活动时间（进行中、即将开始、已结束）筛选；每个活动卡片包含活动名称、活动时间、地点、参与人数、活动海报，点击可进入活动详情页。
- **活动详情**：页面包含活动规则（参与方式、奖励设置、注意事项）、活动时间（开始时间、结束时间）、活动地点（具体位置、导航链接）、参与条件（如需购票、需消耗积分等）、奖励说明（积分、优惠券、实物奖品等）、参与记录（用户自己的参与进度）；底部根据活动状态显示“立即参与”“报名”“已结束”按钮。
- **打卡活动**：用户参与后，页面展示打卡规则（如在指定景点拍照打卡、完成任务问答等）、打卡点导航（结合地图显示打卡点位置）、打卡进度（已打卡/总打卡点）；用户到达打卡点后，上传符合要求的内容（图片/文字），打卡验证（或商户端扫码验证），打卡成功后弹出奖励弹窗（积分/优惠券）；全部打卡完成可获得终极奖励。
- **积分活动**：包括积分兑换、积分任务等级权益。积分兑换支持用户用积分兑换门票、商品、优惠券等；积分任务包括购票、消费、打卡、分享任务；等级权益对应不同积分等级的兑换内容等特权；积分规则页面详细说明积分获取、消耗、有效期等内容。

#### 4.1.4 供需模块
- 支持用户浏览平台发布的供需信息（如景区招聘、商户合作需求等）；用户可以浏览供需详细信息
- 用户可发布供需信息（需填写标题、内容、联系方式、分类），发布后需经过PC端审核通过方可展示；
- 支持对感兴趣的供需信息进行联系对接。

#### 4.1.5 个人中心模块
个人中心是用户信息和服务的集中管理入口，具体功能如下：

- **会员信息**：展示用户头像、昵称、支持用户修改头像和昵称。
- **会员积分**：展示积分余额、积分有效期（积分自获取之日起1年内有效）；积分流水显示积分获取（购票、消费、活动）和消耗（兑换、支付）记录；
- **会员积分等级**（普通会员、白银会员、黄金会员、钻石会员）、等级权益说明（如黄金会员购票享9折、积分兑换享8折）、成长值进度（成长值达到一定阈值可升级）；
- **订单管理**：包含全部订单、票务订单、商品订单、活动订单四个分类；支持按订单状态（待支付、待使用、已使用、已取消、已退款）筛选，支持按订单号、时间搜索；每个订单卡片显示订单类型、订单号、金额、状态、创建时间，点击可进入订单详情页。
- **钱包管理**：展示钱包统计信息（余额、累计充值金额、累计消费金额）；支持充值（提供10元、20元、50元、100元、200元、自定义金额选项，支持微信支付）；流水记录包含日期、类型（充值、消费、退款）、金额等。
- **地址管理**：支持新增、编辑、删除收货地址，包含收货人姓名、手机号、省市区、详细地址、是否默认地址；默认地址用于文创商品邮寄和实物类品发放。
- **评价反馈**：用户可对已使用的门票、已消费的商品、已参与的活动进行评价，评价内容包括星级（1-5星）、文字描述、图片上传；
- **投诉建议**：支持提交投诉建议（选择投诉类型、填写内容、上传凭证），客服在1个工作日内回复处理结果。
- **常用游客**：常用游客增删改查
- **联系客服**：点击拨打官方客服电话
- **帮助中心**：包含常见问题（按票务、活动、消费、会员分类）

#### 4.1.6 通用功能
- **搜索功能**：全局搜索框支持搜索景区名称、商品名称、活动名称、商户名称；搜索结果按类型分类展示（景区、商品、活动、商户），支持关键词联想。

### 4.2 商户端功能

#### 4.2.1 登录注册模块
- **授权登录**：商户通过手机号获取验证码登录，首次登录需完成资质验证（上传营业执照、法人身份证、经营许可证等材料），审核通过后方可使用商户端功能。
- **密码找回**：支持通过手机号找回登录密码，验证身份后重置密码。
- **入驻申请**：新商户点击“入驻申请”，填写商户基本信息（商户名称、经营品类、地址、联系方式），上传资质材料，提交后等待运营方审核（审核周期1-3个工作日）；审核结果通过短信通知商户。

#### 4.2.2 商品管理模块
- **商品列表**：展示商品名称/价格/库存/状态，支持筛选/搜索
- **商品编辑**：新增/修改商品信息：名称、图片、价格、规格、库存、积分比例
- **商品上下架**：支持手动上下架、定时上下架
- **库存管理**：展示实时库存、支持库存预警设置、库存批量调整
- **商品分类**：支持自定义商品分类，便于管理和用户查找
- **商品评价**：查看用户对商品的评价，支持回复

#### 4.2.3 活动管理模块
- **活动列表**：展示活动名称/时间/状态/参与人数，支持筛选/搜索
- **活动创建**：自定义活动规则、时间、奖励、参与条件，提交平台审核
- **活动编辑**：修改活动信息，已开始活动限制部分字段修改
- **活动详情**：查看活动参与记录、打卡数据、奖励发放情况
- **扫码验证**：扫描用户活动签到打印卡，确认参与资格/打卡通过

#### 4.2.4 核销管理模块
- **扫码核销**：扫描用户电子票码/商品消费码，确认核销并同步状态
- **核销记录**：查看当日/历史核销记录，支持筛选/导出
- **批量核销**：支持导入核销的批量核销，适用于团体订单
- **核销异常处理**：提示核销失败原因，支持手动核实核销

#### 4.2.5 商户管理模块
- **商户信息**：查看/编辑商户基本信息、资质材料、联系方式
- **员工管理**：支持员工增加或重、员工权限分配、员工绑定/解绑账号
- **经营统计**：展示当日/累计销售总额、销售单数、客单价、热销商品排行、销售趋势图
- **订单管理**：包含订单列表、订单详情、订单状态跟踪、异常订单处理
- **钱包管理**：显示余额，支持提现申请、提现记录、流水管理（筛选日期/类型）
- **投诉处理**：查看用户投诉，提交处理方案及结果
- **常见问题**：包含平台规则、操作指南、支付结算相关问题
- **退出登录**：退出当前商户账号

---

## 5. 非功能性需求

### 5.1 性能要求
- 页面响应时间：用户端页面加载时间不超过2秒
- 接口响应时间：95%的接口响应时间不超过200ms
- 系统并发能力：支持5000+用户同时在线，1000+并发交易
- 数据存储能力：支持PB级数据存储，满足3年以上业务数据存储